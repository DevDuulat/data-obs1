### Полиморфизм — кратко

**Полиморфизм** — это принцип объектно-ориентированного программирования, который позволяет **работать с объектами разных классов единообразно**, если они имеют общий интерфейс, абстрактный класс или наследуются от одного родителя.

Проще говоря: **один код — разные реализации**.

---

### Основная идея

- Разные классы могут иметь **одинаковые методы**, но с **разной реализацией**.
- Можно использовать один и тот же код для вызова метода у объектов разных классов.

---

### Пример с наследованием

```php
abstract class Messenger {
    abstract function send($message);
}

class EmailMessenger extends Messenger {
    function send($message) {
        echo "Email: $message<br>";
    }
}

class SmsMessenger extends Messenger {
    function send($message) {
        echo "SMS: $message<br>";
    }
}

function notifyUser(Messenger $messenger, $msg) {
    $messenger->send($msg);
}

$email = new EmailMessenger();
$sms = new SmsMessenger();

notifyUser($email, "Hello"); // Email: Hello
notifyUser($sms, "Hello");   // SMS: Hello
```

- Один и тот же вызов функции `notifyUser` работает для разных объектов.
- Это **полиморфизм**: разные реализации метода `send()` для разных классов.

---

### Пример с интерфейсом

```php
interface Logger {
    function log($text);
}

class FileLogger implements Logger {
    function log($text) { echo "Запись в файл: $text<br>"; }
}

class DbLogger implements Logger {
    function log($text) { echo "Запись в базу: $text<br>"; }
}

function writeLog(Logger $logger, $text) {
    $logger->log($text);
}

writeLog(new FileLogger(), "Ошибка"); // Запись в файл: Ошибка
writeLog(new DbLogger(), "Ошибка");   // Запись в базу: Ошибка
```

- Код не зависит от конкретного класса, только от интерфейса `Logger`.

---

### Зачем нужен полиморфизм

1. **Гибкость кода** — один код работает с разными объектами.
2. **Упрощение расширений** — новые классы можно добавлять без изменения существующего кода.
3. **Чистая архитектура** — функции и методы работают с общими интерфейсами или родительскими классами, не привязываясь к конкретным реализациям.

---

