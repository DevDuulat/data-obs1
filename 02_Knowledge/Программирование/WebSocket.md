### WebSocket — кратко

**WebSocket** — это протокол для двусторонней связи между клиентом (браузер, приложение) и сервером через одно соединение.

В отличие от обычного HTTP:

- HTTP — **запрос/ответ**. Клиент спрашивает, сервер отвечает, потом соединение закрывается.
- WebSocket — **постоянное соединение**, данные могут **идти в обе стороны в любой момент**.

---

### Основные характеристики

1. **Двусторонняя связь (Full-Duplex)**
    - Сервер может **сам отправлять данные клиенту**, без запроса
    - Клиент может отправлять данные в любое время.

2. **Постоянное соединение**
    
    - После установки соединения оно остаётся открытым до закрытия.
    - Экономит ресурсы, так как не нужно постоянно открывать/закрывать HTTP-запросы.
        
3. **Низкая задержка**
    
    - Данные передаются почти мгновенно.
    - Используется для чатов, игр, уведомлений, торговых платформ.
4. **Протокол ws:// и wss://**
    
    - `ws://` — обычное WebSocket соединение.
    - `wss://` — WebSocket поверх TLS (шифрованное).

---

### Как это работает

1. Клиент подключается к серверу через WebSocket:

```javascript
const socket = new WebSocket('wss://example.com/socket');
```

2. Устанавливается постоянное соединение.
3. Сервер и клиент могут обмениваться сообщениями в реальном времени:

```javascript
// От клиента серверу
socket.send(JSON.stringify({ message: "Hello!" }));

// От сервера клиенту
socket.onmessage = function(event) {
    const data = JSON.parse(event.data);
    console.log(data.message);
};
```

---

### Отличие WebSocket от HTTP

|Параметр|HTTP|WebSocket|
|---|---|---|
|Связь|Однонаправленная|Двунаправленная (Full-Duplex)|
|Соединение|Кратковременное|Постоянное|
|Задержка|Высокая (каждый запрос открывает новое соединение)|Низкая, мгновенный обмен|
|Использование|Статические страницы, API|Чаты, игры, уведомления, биржи|

---

**Итог:**  
WebSocket нужен для **реального времени**, когда серверу важно мгновенно отправлять данные клиенту, а не ждать нового HTTP-запроса.

