#### Генерация миграции
```
php artisan make:migration create_flights_table
```

---

#### Структура миграций
Класс миграции содержит два метода: up и down. Метод up используется для добавления новых таблиц, столбцов или индексов в вашу базу данных, тогда как метод down должен отменять операции, выполняемые методом up.

#### Пример миграции на flights

```php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Запустить миграцию.
     */
    public function up(): void
    {
        Schema::create('flights', function (Blueprint $table) {
            $table->id();
            $table->string('name');
            $table->string('airline');
            $table->timestamps();
        });
    }

    /**
     * Обратить миграции.
     */
    public function down(): void
    {
        Schema::drop('flights');
    }
}
```

---
#### Запуск миграций

```bash
php artisan migrate
```

---
#### Узнать, какие миграции уже выполнены

```bash
php artisan migrate:status
```

---

Если вы хотите посмотреть SQL-запросы, которые будут выполнены миграциями, но при этом не запускать их фактически, вы можете добавить флаг --pretend к команде migrate

```bash
php artisan migrate --pretend
```


#### Принудительный запуск миграции в рабочем окружении
Некоторые операции миграции являются деструктивными, что означает, что они могут привести к потере данных. Чтобы защитить вас от запуска этих команд для вашей производственной базы данных, от вас потребуется подтверждение перед выполнением команд. Чтобы команды запускались без подтверждения, используйте флаг --force:

```bash
php artisan migrate --force
```


#### Откат миграций

```bash
php artisan migrate:rollback
```

Вы можете откатить ограниченное количество миграций, указав параметр step для команды rollback. Например, следующая команда откатит последние пять миграций:

```bash
php artisan migrate:rollback --step=5
```

Если вы хотите посмотреть SQL-запросы, которые будут выполнены миграциями без их фактического выполнения, вы можете добавить флаг --pretend к команде migrate:rollback:


```bash
php artisan migrate:rollback --pretend
```

Команда `migrate:reset` откатит все миграции вашего приложения:

```bash
php artisan migrate:reset
```

#### Откат и миграция с помощью одной команды
Команда migrate:refresh откатит все ваши миграции, а затем выполнит команду migrate. Эта команда эффективно воссоздает всю вашу базу данных:

```bash
php artisan migrate:refresh
```

Обновляем базу данных и запускаем все наполнители базы данных ...

```bash
php artisan migrate:refresh --seed
```


Вы можете откатить и повторно запустить ограниченное количество миграций, указав параметр step для команды refresh. Например, следующая команда откатит и повторно запустит последние пять миграций:

```bash
php artisan migrate:refresh --step=5
```

Удаление всех таблиц с последующей миграцией
Команда migrate:fresh удалит все таблицы из базы данных, а затем выполнит команду migrate:

```bash
php artisan migrate:fresh

php artisan migrate:fresh --seed
```


